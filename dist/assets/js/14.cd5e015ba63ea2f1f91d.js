webpackJsonp([14],{gY5w:function(e,t,s){"use strict";function a(e){s("xD/k")}Object.defineProperty(t,"__esModule",{value:!0});var o=s("04Cm"),r=s("Gcvq"),i=(s("mkH3"),{name:"reserveOrderDetails",props:{list:Object},data:function(){return{}},created:function(){},methods:{close:function(){this.$parent.off.details=!1}}}),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"g-list-box",attrs:{id:"details"}},[s("header",{staticClass:"g-lis-head"},[s("a",{staticClass:"m-details-back u-icon-back",on:{click:e.close}})]),e._v(" "),s("div",{staticClass:"g-box"},[s("table",{staticClass:"g-list-table"},[s("tbody",[s("tr",[s("td",[s("table",{staticClass:"g-inner-table"},[s("tbody",[s("tr",[s("td",[e._v("订单号：")]),s("td",[e._v(e._s(e.list.occupy_order_id))])]),e._v(" "),s("tr",[s("td",[e._v("生成时间：")]),s("td",[e._v(e._s(e.$parent.getDateTime(e.list.create_time)[6]))])]),e._v(" "),s("tr",[s("td",[e._v("结束时间：")]),s("td",[e._v(e._s(e.$parent.getDateTime(e.list.modify_time)[6]))])]),e._v(" "),s("tr",[s("td",[e._v("商户：")]),s("td",[e._v(e._s(e.list.dealer_id)+"（"+e._s(e.list.company_name)+"）")])]),e._v(" "),s("tr",[s("td",[e._v("工号：")]),s("td",[e._v(e._s(e.list.user_id)+"（"+e._s(e.list.user_name)+"）")])]),e._v(" "),s("tr",[s("td",[e._v("预占号码：")]),s("td",[e._v(e._s(e.list.occupy_phone)+"（"),s("span",{directives:[{name:"show",rawName:"v-show",value:1==e.list.phone_type,expression:"list.phone_type==1"}]},[e._v("远特")]),s("span",{directives:[{name:"show",rawName:"v-show",value:2==e.list.phone_type,expression:"list.phone_type==2"}]},[e._v("联通")]),e._v("，"+e._s(e.list.occupy_city_name)+"，"+e._s(e.$parent.translateData(5,e.list.big_number_level))+"）")])]),e._v(" "),s("tr",[s("td",[e._v("系统号码占用费：")]),s("td",[e._v(e._s(parseInt(e.list.phone_money)/100)+"元")])]),e._v(" "),s("tr",[s("td",[e._v("商家自定占用费：")]),s("td",[e._v(e._s(parseInt(e.list.occupy_price)/100)+"元")])]),e._v(" "),s("tr",[s("td",[e._v("预占保证金：")]),s("td",[e._v(e._s(parseInt(e.list.occupy_money)/100)+"元")])]),e._v(" "),s("tr",[s("td",[e._v("退回预占保证金：")]),s("td",[e._v(e._s(parseInt(e.list.order_refund_money)/100)+"元")])]),e._v(" "),s("tr",[s("td",[e._v("扣除预占保证金：")]),s("td",[e._v(e._s(parseInt(e.list.order_deduct_money)/100)+"元")])]),e._v(" "),s("tr",{directives:[{name:"show",rawName:"v-show",value:e.list.cancel_user_id,expression:"list.cancel_user_id"}]},[s("td",[e._v("解除操作人：")]),s("td",[e._v(e._s(e.list.cancel_user_id)+"（"+e._s(e.list.cancel_user_name)+"）")])]),e._v(" "),s("tr",[s("td",[e._v("终端类型：")]),s("td",[s("span",{directives:[{name:"show",rawName:"v-show",value:1==e.list.terminal_type,expression:"list.terminal_type==1"}]},[e._v("ios")]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:2==e.list.terminal_type,expression:"list.terminal_type==2"}]},[e._v("android")]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:0==e.list.terminal_type,expression:"list.terminal_type==0"}]},[e._v("未知")])])]),e._v(" "),s("tr",[s("td",[e._v("订单状态：")]),s("td",[s("span",{directives:[{name:"show",rawName:"v-show",value:1==e.list.order_status,expression:"list.order_status==1"}],staticClass:"f-c-yellow"},[e._v("占用中")]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:2==e.list.order_status,expression:"list.order_status==2"}],staticClass:"f-c-red"},[e._v("手动解除占用")]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:3==e.list.order_status,expression:"list.order_status==3"}],staticClass:"f-c-red"},[e._v("超时解除占用")]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:4==e.list.order_status,expression:"list.order_status==4"}],staticClass:"f-c-yellow"},[e._v("开卡中")]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:5==e.list.order_status,expression:"list.order_status==5"}],staticClass:"f-c-green"},[e._v("开卡成功解除占用")])])]),e._v(" "),s("tr",[s("td",[e._v("订单描述：")]),s("td",[e._v(e._s(e.list.order_desc))])])])])])])])])])])},l=[],c={render:n,staticRenderFns:l},m=c,d=s("Z0/y"),v=a,p=d(i,m,!1,v,"data-v-9686c408",null),_=p.exports,f=s("R2SV");s("Ue0x"),s("V+BO");var u={data:function(){return{off:{isLoad:0,details:0},form:{phoneType:0,context1:"",context2:"",context3:"",context4:"",context5:0,startTime:"",endTime:"",select:5},list:"",detailsData:"",total:0,pageNum:1,pageSize:10,maxpage:1,callback:Function}},components:{"my-page":r.a,"list-details":_},created:function(){this.init()},methods:{init:function(){var e=this;e.form.startTime=laydate.now(0,"YYYY-MM-DD 00:00:00"),e.form.endTime=laydate.now(0,"YYYY-MM-DD 23:59:59")},searchList:function(e){var t=this,s=t.form.select,a="A.create_time BETWEEN "+Object(f.e)(t.form.startTime)+" AND "+Object(f.e)(t.form.endTime),r={pageSize:t.pageSize,pageNum:e||1,params:[],opKey:"list.reserve.search"},i=t.form["context"+t.form.select];return 1!=s||i?2==s&&11!=i.length?(layer.open({content:"预占号码格式错误",skin:"msg",time:2,msgSkin:"error"}),!1):3!=s||i?4!=s||i?(1==s?a+=' AND A.occupy_order_id="'+i+'"':2==s?a+=' AND A.occupy_phone="'+i+'"':3==s?a+=' AND A.dealer_id="'+i+'"':4==s?a+=' AND A.user_id="'+i+'"':5==s&&0!=i&&(a+=" AND A.order_status="+i),0!=t.form.phoneType&&(a+=" AND A.phone_type="+t.form.phoneType),r.params.push(a),!t.off.isLoad&&(t.off.isLoad=!0,void Object(o.reqCommonMethod)(r,function(){t.off.isLoad=!1},"km-ecs/w/handler/query").then(function(s){t.list=s.data.list,t.total=s.data.total,t.maxpage=Math.ceil(parseInt(s.data.total)/10),t.pageNum=e||1,t.callback=function(e){t.searchList(e)}}).catch(function(){t.off.isLoad=!1}))):(layer.open({content:"请输入操作者工号",skin:"msg",time:2,msgSkin:"error"}),!1):(layer.open({content:"请输入商户ID",skin:"msg",time:2,msgSkin:"error"}),!1):(layer.open({content:"请输入订单号码",skin:"msg",time:2,msgSkin:"error"}),!1)},details:function(e){var t=this,s=e.target.name,a={pageSize:"10",pageNum:"-1",params:['occupy_order_id="'+s+'"'],opKey:"order.reserve.details"};if(t.off.isLoad)return!1;t.off.isLoad=!0,Object(o.reqCommonMethod)(a,function(){t.off.isLoad=!1},"km-ecs/w/handler/query").then(function(e){t.detailsData=e.data.list[0],t.off.details=!0}).catch(function(){t.off.isLoad=!1})},ispShiftClick:function(){var e=this;setTimeout(function(){1==e.form.rechargeType?e.form.isp=0:2==e.form.rechargeType&&(e.form.isp=4)},300)},to_laydate:function(e){var t=this;laydate({istime:!0,format:"YYYY-MM-DD hh:mm:ss",isclear:!1,choose:function(s){1==e?t.form.startTime=s:t.form.endTime=s}})},topShiftClick:function(){this.list=""},getDateTime:function(e){return Object(f.c)(e)},getUnixTime:function(e){return Object(f.e)(e)},translateData:function(e,t){return Object(f.i)(e,t)}}},h=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"g-search-menu"},[s("div",{class:{active:e.off.details},attrs:{id:"search"}},[s("header",{staticClass:"m-scroll-bar animated infinite",class:{active:e.off.isLoad}}),e._v(" "),e.off.details?e._e():s("section",[s("div",{staticClass:"g-search-form"},[e._m(0),e._v(" "),s("section",{staticClass:"form-c"},[s("div",{staticClass:"row"},[s("span",{staticClass:"dp"},[e._v("运营商：")]),e._v(" "),s("div",{staticClass:"m-form-radio"},[s("label",[s("span",{staticClass:"radio"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.phoneType,expression:"form.phoneType"}],attrs:{value:"0",type:"radio"},domProps:{checked:e._q(e.form.phoneType,"0")},on:{change:function(t){e.$set(e.form,"phoneType","0")}}}),s("span")]),s("span",{staticClass:"text"},[e._v("全部")])]),e._v(" "),s("label",[s("span",{staticClass:"radio"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.phoneType,expression:"form.phoneType"}],attrs:{value:"1",type:"radio"},domProps:{checked:e._q(e.form.phoneType,"1")},on:{change:function(t){e.$set(e.form,"phoneType","1")}}}),s("span")]),s("span",{staticClass:"text"},[e._v("远特")])]),e._v(" "),s("label",[s("span",{staticClass:"radio"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.phoneType,expression:"form.phoneType"}],attrs:{value:"2",type:"radio"},domProps:{checked:e._q(e.form.phoneType,"2")},on:{change:function(t){e.$set(e.form,"phoneType","2")}}}),s("span")]),s("span",{staticClass:"text"},[e._v("联通")])])])]),e._v(" "),s("div",{staticClass:"row"},[s("span",{staticClass:"dp"},[e._v("时间区间：")]),e._v(" "),s("div",{staticClass:"f-inline-block"},[s("span",{staticClass:"m-time-area"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.startTime,expression:"form.startTime"}],attrs:{type:"text",readonly:"readonly"},domProps:{value:e.form.startTime},on:{click:function(t){e.to_laydate(1)},input:function(t){t.target.composing||e.$set(e.form,"startTime",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.endTime,expression:"form.endTime"}],attrs:{type:"text",readonly:"readonly"},domProps:{value:e.form.endTime},on:{click:function(t){e.to_laydate(2)},input:function(t){t.target.composing||e.$set(e.form,"endTime",t.target.value)}}})])])])]),e._v(" "),s("section",{staticClass:"form-c o-no-bgc"},[s("div",{staticClass:"row",class:{active:1==e.form.select}},[s("span",{staticClass:"m-form-radio"},[s("label",[s("span",{staticClass:"radio"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.select,expression:"form.select"}],attrs:{type:"radio",value:"1"},domProps:{checked:e._q(e.form.select,"1")},on:{change:function(t){e.$set(e.form,"select","1")}}}),s("span")]),s("span",{staticClass:"text"},[e._v("订单号码：")])])]),e._v(" "),s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.context1,expression:"form.context1"}],attrs:{readonly:1!=e.form.select,maxlength:"32",type:"tel",placeholder:"请输入查询的订单号码"},domProps:{value:e.form.context1},on:{input:function(t){t.target.composing||e.$set(e.form,"context1",t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"row",class:{active:2==e.form.select}},[s("span",{staticClass:"m-form-radio"},[s("label",[s("span",{staticClass:"radio"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.select,expression:"form.select"}],attrs:{type:"radio",value:"2"},domProps:{checked:e._q(e.form.select,"2")},on:{change:function(t){e.$set(e.form,"select","2")}}}),s("span")]),s("span",{staticClass:"text"},[e._v("预占号码：")])])]),e._v(" "),s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.context2,expression:"form.context2"}],attrs:{readonly:2!=e.form.select,maxlength:"11",type:"tel",placeholder:"请输入查询的预占号码"},domProps:{value:e.form.context2},on:{input:function(t){t.target.composing||e.$set(e.form,"context2",t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"row",class:{active:3==e.form.select}},[s("span",{staticClass:"m-form-radio"},[s("label",[s("span",{staticClass:"radio"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.select,expression:"form.select"}],attrs:{type:"radio",value:"3"},domProps:{checked:e._q(e.form.select,"3")},on:{change:function(t){e.$set(e.form,"select","3")}}}),s("span")]),s("span",{staticClass:"text"},[e._v("商户ID：")])])]),e._v(" "),s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.context3,expression:"form.context3"}],attrs:{readonly:3!=e.form.select,maxlength:"11",type:"tel",placeholder:"请输入查询的预占号码"},domProps:{value:e.form.context3},on:{input:function(t){t.target.composing||e.$set(e.form,"context3",t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"row",class:{active:4==e.form.select}},[s("span",{staticClass:"m-form-radio"},[s("label",[s("span",{staticClass:"radio"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.select,expression:"form.select"}],attrs:{type:"radio",value:"4"},domProps:{checked:e._q(e.form.select,"4")},on:{change:function(t){e.$set(e.form,"select","4")}}}),s("span")]),s("span",{staticClass:"text"},[e._v("操作者工号：")])])]),e._v(" "),s("div",{staticClass:"input-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.context4,expression:"form.context4"}],attrs:{readonly:4!=e.form.select,maxlength:"16",type:"tel",placeholder:"请输入查询的操作者工号"},domProps:{value:e.form.context4},on:{input:function(t){t.target.composing||e.$set(e.form,"context4",t.target.value)}}})])]),e._v(" "),s("div",{staticClass:"row fullRow",class:{active:5==e.form.select}},[s("span",{staticClass:"m-form-radio"},[s("label",[s("span",{staticClass:"radio"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.select,expression:"form.select"}],attrs:{type:"radio",value:"5",readonly:5!=e.form.select},domProps:{checked:e._q(e.form.select,"5")},on:{change:function(t){e.$set(e.form,"select","5")}}}),s("span")]),s("span",{staticClass:"text"},[e._v("订单状态：")])])]),e._v(" "),s("div",{staticClass:"m-form-radio col-radio"},[s("label",[s("span",{staticClass:"radio"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.context5,expression:"form.context5"}],attrs:{type:"radio",value:"0"},domProps:{checked:e._q(e.form.context5,"0")},on:{change:function(t){e.$set(e.form,"context5","0")}}}),s("span")]),s("span",{staticClass:"text"},[e._v("全部")])]),e._v(" "),s("label",[s("span",{staticClass:"radio"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.context5,expression:"form.context5"}],attrs:{type:"radio",value:"1"},domProps:{checked:e._q(e.form.context5,"1")},on:{change:function(t){e.$set(e.form,"context5","1")}}}),s("span")]),s("span",{staticClass:"text"},[e._v("占用中")])]),e._v(" "),s("label",[s("span",{staticClass:"radio"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.context5,expression:"form.context5"}],attrs:{type:"radio",value:"2"},domProps:{checked:e._q(e.form.context5,"2")},on:{change:function(t){e.$set(e.form,"context5","2")}}}),s("span")]),s("span",{staticClass:"text"},[e._v("手动解除占用")])]),e._v(" "),s("label",[s("span",{staticClass:"radio"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.context5,expression:"form.context5"}],attrs:{type:"radio",value:"3"},domProps:{checked:e._q(e.form.context5,"3")},on:{change:function(t){e.$set(e.form,"context5","3")}}}),s("span")]),s("span",{staticClass:"text"},[e._v("超时解除占用")])]),e._v(" "),s("label",[s("span",{staticClass:"radio"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.context5,expression:"form.context5"}],attrs:{type:"radio",value:"4"},domProps:{checked:e._q(e.form.context5,"4")},on:{change:function(t){e.$set(e.form,"context5","4")}}}),s("span")]),s("span",{staticClass:"text"},[e._v("开卡中")])]),e._v(" "),s("label",[s("span",{staticClass:"radio"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.context5,expression:"form.context5"}],attrs:{type:"radio",value:"5"},domProps:{checked:e._q(e.form.context5,"5")},on:{change:function(t){e.$set(e.form,"context5","5")}}}),s("span")]),s("span",{staticClass:"text"},[e._v("开卡成功解除占用")])])])]),e._v(" "),s("button",{staticClass:"f-btn f-btn-line",on:{click:function(t){e.searchList()}}},[e._v("查询")])])]),e._v(" "),e.list?s("div",{staticClass:"m-total-table"},[s("div",{staticClass:"total-head"},[e._v("统计结果"),s("b",[e._v(e._s(e.total))])]),e._v(" "),s("table",[e._m(1),e._v(" "),s("tbody",e._l(e.list,function(t,a){return s("tr",[s("td",[e._v(e._s(10*(e.pageNum-1)+(a+1)))]),e._v(" "),s("td",[e._v(e._s(t.orderId))]),e._v(" "),s("td",[e._v(e._s(t.occupyPhone)+"（"+e._s(e.translateData(5,t.numberLevel))+"）")]),e._v(" "),s("td",[s("span",{directives:[{name:"show",rawName:"v-show",value:1==t.phoneType,expression:"todo.phoneType==1"}]},[e._v("远特")]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:2==t.phoneType,expression:"todo.phoneType==2"}]},[e._v("联通")])]),e._v(" "),s("td",[e._v(e._s(t.dealerId)),s("br"),e._v("["+e._s(t.companyName)+"]")]),e._v(" "),s("td",[e._v(e._s(t.userId)),s("br"),e._v("（"+e._s(t.userName)+"）")]),e._v(" "),s("td",[e._v(e._s(e.getDateTime(t.createTime)[6]))]),e._v(" "),s("td",[s("span",{directives:[{name:"show",rawName:"v-show",value:1==t.orderStatus,expression:"todo.orderStatus==1"}],staticClass:"f-c-yellow"},[e._v("占用中")]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:2==t.orderStatus,expression:"todo.orderStatus==2"}],staticClass:"f-c-red"},[e._v("手动解除占用")]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:3==t.orderStatus,expression:"todo.orderStatus==3"}],staticClass:"f-c-red"},[e._v("超时解除占用")]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:4==t.orderStatus,expression:"todo.orderStatus==4"}],staticClass:"f-c-yellow"},[e._v("开卡中")]),e._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:5==t.orderStatus,expression:"todo.orderStatus==5"}],staticClass:"f-c-green"},[e._v("开卡成功解除占用")])]),e._v(" "),s("td",[s("a",{staticClass:"details",attrs:{name:t.orderId,href:"javascript:void(0)"},on:{click:e.details}},[e._v("详情")])])])}))]),e._v(" "),s("my-page",{attrs:{page:e.pageNum,maxpage:e.maxpage,callback:e.callback}})],1):e._e()]),e._v(" "),e.off.details?s("list-details",{attrs:{list:e.detailsData}}):e._e()],1)])},x=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"m-tag"},[s("b"),e._v("条件查询")])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("tr",[s("th",[e._v("序号")]),e._v(" "),s("th",[e._v("订单号")]),e._v(" "),s("th",[e._v("预占号码")]),e._v(" "),s("th",[e._v("运营商")]),e._v(" "),s("th",[e._v("商户")]),e._v(" "),s("th",[e._v("工号")]),e._v(" "),s("th",[e._v("创建时间")]),e._v(" "),s("th",[e._v("订单状态")]),e._v(" "),s("th",{staticClass:"hasBtn"})])])}],y={render:h,staticRenderFns:x},w=y,g=s("Z0/y"),C=g(u,w,!1,null,null,null);t.default=C.exports},i9jh:function(e,t,s){t=e.exports=s("XLS9")(!1),t.push([e.i,"\n\n",""])},"xD/k":function(e,t,s){var a=s("i9jh");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);s("FIqI")("66dd7364",a,!0,{})}});