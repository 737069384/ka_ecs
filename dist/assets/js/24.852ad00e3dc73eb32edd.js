webpackJsonp([24],{"0X+h":function(e,a,t){var s=t("Csvw");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);t("FIqI")("338dfe40",s,!0,{})},CJ7E:function(e,a,t){"use strict";function s(e){t("0X+h")}Object.defineProperty(a,"__esModule",{value:!0});var r=t("Gcvq"),o=t("R2SV"),i=t("04Cm"),n={data:function(){return{off:{isLoad:!1},form:{dealerId:""},promoterData:{},deviceList:[],merchantList:[],devicePageParam:{total:0,pageNum:1,maxpage:1,callback:Function},merchantPageParam:{total:0,pageNum:1,maxpage:1,callback:Function}}},components:{"my-page":r.a},created:function(){var e=this.$route.params.val;"null"!=e&&(this.form.dealerId=e,this.searchClick())},methods:{searchClick:function(){var e=this;return!e.off.isLoad&&(e.promoterData={},e.deviceList=[],e.form.dealerId?(e.off.isLoad=!0,void Object(i.unifySearchApi)({opKey:"info.promoter.search",params:["'"+e.form.dealerId+"'"],pageSize:"10",pageNum:"-1"},function(){e.off.isLoad=!1}).then(function(a){a.data.list[0]?(e.promoterData=a.data.list[0],e.getDeviceList(1,e.form.dealerId)):layer.open({content:"暂无该推广方信息",skin:"msg",time:2,msgSkin:"error"})})):(layer.open({content:"请输入查询的推广方ID",skin:"msg",time:2,msgSkin:"error"}),!1))},getDeviceList:function(e,a){var t=this;t.off.isLoad=!0,Object(i.unifySearchApi)({opKey:"info.promoterDevice.list",params:["'"+a+"'"],pageSize:"10",pageNum:e||1},function(){t.off.isLoad=!1}).then(function(s){t.deviceList=s.data.list,t.devicePageParam={total:s.data.total,maxpage:Math.ceil(parseInt(s.data.total)/10),pageNum:e||1,callback:function(e){t.getDeviceList(e,a)}},t.getMerchantList(1,a)})},getMerchantList:function(e,a){var t=this;t.off.isLoad=!0,Object(i.unifySearchApi)({opKey:"info.promoterMerchant.list",params:["'"+a+"'"],pageSize:"10",pageNum:e||1},function(){t.off.isLoad=!1}).then(function(s){t.merchantList=s.data.list,t.merchantPageParam={total:s.data.total,maxpage:Math.ceil(parseInt(s.data.total)/10),pageNum:e||1,callback:function(e){t.getMerchantList(e,a)}}})},getDateTime:function(e){return Object(o.c)(e)}}},v=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticStyle:{padding:"15px"}},[t("header",{staticClass:"m-scroll-bar animated infinite",class:{active:e.off.isLoad}}),e._v(" "),t("div",{staticClass:"m-input-button o-input-button"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.dealerId,expression:"form.dealerId"}],attrs:{maxlength:"16",type:"tel",placeholder:"请输入查询的推广方ID"},domProps:{value:e.form.dealerId},on:{input:function(a){a.target.composing||e.$set(e.form,"dealerId",a.target.value)}}}),t("button",{on:{click:e.searchClick}},[e._v("查询")])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.promoterData.dealerId,expression:"promoterData.dealerId"}],staticClass:"m-total-table"},[t("table",[e._m(0),e._v(" "),t("tbody",[t("tr",[t("td",[e._v(e._s(e.promoterData.dealerId))]),e._v(" "),t("td",[e._v(e._s(e.promoterData.dealerName))]),e._v(" "),t("td",[e._v(e._s(e.getDateTime(e.promoterData.createTime)[6]))]),e._v(" "),t("td",[e._v(e._s(e.promoterData.modifyUser||"--"))]),e._v(" "),t("td",[e._v(e._s(e.promoterData.referralCode||"--"))]),e._v(" "),t("td",[e._v(e._s(e.promoterData.phoneModel)+"\n\t\t\t\t\t\t")]),e._v(" "),t("td",[e._v(e._s(e.promoterData.discountModel)+"\n\t\t\t\t\t\t")])])])])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.deviceList.length,expression:"deviceList.length"}],staticClass:"m-total-table"},[t("div",{staticClass:"total-head"},[e._v("推广方设备列表"),t("b",[e._v(e._s(e.devicePageParam.total))])]),e._v(" "),t("table",[e._m(1),e._v(" "),t("tbody",e._l(e.deviceList,function(a,s){return t("tr",[t("td",[e._v(e._s(10*(e.devicePageParam.pageNum-1)+(s+1)))]),e._v(" "),t("td",[t("a",{staticClass:"details m-l",attrs:{href:"#/home/resource/device/"+a.deviceNumber,title:"点击查看详情"}},[e._v(e._s(a.deviceNumber))])]),e._v(" "),t("td",[t("span",{directives:[{name:"show",rawName:"v-show",value:1==a.state,expression:"todo.state==1"}],staticClass:"f-c-green"},[e._v("已激活")]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:0==a.state,expression:"todo.state==0"}],staticClass:"f-c-red"},[e._v("未激活")])]),e._v(" "),t("td",[e._v(e._s(a.mac))]),e._v(" "),t("td",[t("span",{directives:[{name:"show",rawName:"v-show",value:1==a.businessPower,expression:"todo.businessPower==1"}]},[e._v("A（远特售卡）")]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:2==a.businessPower,expression:"todo.businessPower==2"}]},[e._v("B（联通售卡）")]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:3==a.businessPower,expression:"todo.businessPower==3"}]},[e._v("C（远特售卡+联通售卡）")]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:4==a.businessPower,expression:"todo.businessPower==4"}]},[e._v("D（联通售卡+远特售卡）")])]),e._v(" "),t("td",[e._v(e._s(a.createTime))]),e._v(" "),t("td",[e._v(e._s(a.activationTime))])])}))]),e._v(" "),t("my-page",{attrs:{page:e.devicePageParam.pageNum,maxpage:e.devicePageParam.maxpage,callback:e.devicePageParam.callback}})],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.merchantList.length,expression:"merchantList.length"}],staticClass:"m-total-table"},[t("div",{staticClass:"total-head"},[e._v("商户列表"),t("b",[e._v(e._s(e.merchantPageParam.total))])]),e._v(" "),t("table",[e._m(2),e._v(" "),t("tbody",e._l(e.merchantList,function(a,s){return t("tr",[t("td",[e._v(e._s(10*(e.merchantPageParam.pageNum-1)+(s+1)))]),e._v(" "),t("td",[t("a",{staticClass:"details m-l",attrs:{href:"#/home/resource/merchant/"+a.dealerId,title:"点击查看详情"}},[e._v(e._s(a.dealerId))])]),e._v(" "),t("td",[e._v(e._s(a.companyName))]),e._v(" "),t("td",[a.headPopchannel?t("span",[e._v(e._s(a.headPopchannel)+"["+e._s(a.headPopchannelName)+"]")]):t("span",[e._v("--")])]),e._v(" "),t("td",[t("span",{directives:[{name:"show",rawName:"v-show",value:1==a.merchantType,expression:"todo.merchantType==1"}]},[e._v("企业")]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:2==a.merchantType,expression:"todo.merchantType==2"}]},[e._v("个人")])]),e._v(" "),t("td",[t("span",{directives:[{name:"show",rawName:"v-show",value:1==a.businessPower,expression:"todo.businessPower==1"}]},[e._v("A（远特售卡）")]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:2==a.businessPower,expression:"todo.businessPower==2"}]},[e._v("B（联通售卡）")]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:3==a.businessPower,expression:"todo.businessPower==3"}]},[e._v("C（远特售卡+联通售卡）")]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:4==a.businessPower,expression:"todo.businessPower==4"}]},[e._v("D（联通售卡+远特售卡）")])]),e._v(" "),t("td",[t("span",{directives:[{name:"show",rawName:"v-show",value:1==a.isSignAgreement,expression:"todo.isSignAgreement==1"}],staticClass:"f-c-green"},[e._v("已签约")]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:0==a.isSignAgreement,expression:"todo.isSignAgreement==0"}],staticClass:"f-c-red"},[e._v("未签约")])]),e._v(" "),t("td",[e._v(e._s(e.getDateTime(a.createTime)[6]))])])}))]),e._v(" "),t("my-page",{attrs:{page:e.merchantPageParam.pageNum,maxpage:e.merchantPageParam.maxpage,callback:e.merchantPageParam.callback}})],1)])},c=[function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("thead",[t("tr",[t("th",[e._v("ID")]),e._v(" "),t("th",[e._v("Name")]),e._v(" "),t("th",[e._v("创建时间")]),e._v(" "),t("th",[e._v("创建人")]),e._v(" "),t("th",[e._v("推广码")]),e._v(" "),t("th",[e._v("号码模式")]),e._v(" "),t("th",[e._v("折扣模式")])])])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("thead",[t("tr",[t("th",[e._v("序号")]),e._v(" "),t("th",[e._v("设备编号")]),e._v(" "),t("th",[e._v("激活状态")]),e._v(" "),t("th",[e._v("MAC地址")]),e._v(" "),t("th",[e._v("售卡范围")]),e._v(" "),t("th",[e._v("创建时间")]),e._v(" "),t("th",[e._v("激活时间")])])])},function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("thead",[t("tr",[t("th",[e._v("序号")]),e._v(" "),t("th",[e._v("渠道ID")]),e._v(" "),t("th",[e._v("网点名称")]),e._v(" "),t("th",[e._v("总部推广渠道")]),e._v(" "),t("th",[e._v("商户类型")]),e._v(" "),t("th",[e._v("售卡范围")]),e._v(" "),t("th",[e._v("签约状态")]),e._v(" "),t("th",[e._v("创建时间")])])])}],m={render:v,staticRenderFns:c},d=m,_=t("Z0/y"),l=s,h=_(n,d,!1,l,"data-v-1c18e5fc",null);a.default=h.exports},Csvw:function(e,a,t){a=e.exports=t("XLS9")(!1),a.push([e.i,"\n.m-total-table[data-v-1c18e5fc]{margin-top: 0.2rem;\n}\n@media screen and (min-width: 961px){\n.o-input-button[data-v-1c18e5fc]{\n\t\twidth: 500px\n}\n}\n",""])}});